<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache Kafka Installation Guide | Complete Setup Tutorial</title>
    <meta name="description" content="Master Apache Kafka installation with this comprehensive tutorial. Step-by-step guide for Linux systems with KRaft mode configuration.">
    <meta name="author" content="Steven Iefel D. Flogio">
    
    <!-- Open Graph for LinkedIn sharing -->
    <meta property="og:title" content="Apache Kafka Installation Guide">
    <meta property="og:description" content="Complete Apache Kafka installation guide with KRaft mode setup and configurations">
    <meta property="og:type" content="article">
    <meta property="og:image" content="https://kafka.apache.org/images/logo.png">
    
    <style>
        :root {
            --primary-color: #231f20;
            --secondary-color: #0071bc;
            --accent-color: #ff6900;
            --text-dark: #2d3748;
            --text-light: #4a5568;
            --bg-light: #f7fafc;
            --border-color: #e2e8f0;
            --shadow: 0 10px 25px rgba(0,0,0,0.1);
            --gradient: linear-gradient(135deg, #231f20 0%, #0071bc 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.7;
            color: var(--text-dark);
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        .hero {
            background: var(--gradient);
            color: white;
            padding: 4rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 20"><defs><radialGradient id="a" cx="50%" cy="0%" r="100%"><stop offset="0%" stop-color="rgba(255,255,255,0.1)"/><stop offset="100%" stop-color="rgba(255,255,255,0)"/></radialGradient></defs><rect width="100%" height="100%" fill="url(%23a)"/></svg>');
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: slideInUp 1s ease-out;
        }

        .hero .subtitle {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            animation: slideInUp 1s ease-out 0.2s both;
        }

        .author-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            padding: 0.8rem 2rem;
            border-radius: 50px;
            border: 1px solid rgba(255,255,255,0.3);
            animation: slideInUp 1s ease-out 0.4s both;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .content {
            background: white;
            margin: -3rem auto 0;
            border-radius: 20px;
            box-shadow: var(--shadow);
            overflow: hidden;
            position: relative;
            z-index: 2;
        }

        .overview {
            background: var(--bg-light);
            padding: 3rem;
            border-bottom: 3px solid var(--primary-color);
            text-align: center;
        }

        .overview h2 {
            color: var(--secondary-color);
            font-size: 2.2rem;
            margin-bottom: 1.5rem;
        }

        .overview p {
            font-size: 1.1rem;
            color: var(--text-light);
            max-width: 800px;
            margin: 0 auto;
        }

        .main-content {
            padding: 3rem;
        }

        .step {
            margin-bottom: 4rem;
            padding: 2.5rem;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border-left: 5px solid var(--primary-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .step:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .step-header {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
        }

        .step-number {
            background: var(--gradient);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            margin-right: 1.5rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .step h3 {
            color: var(--secondary-color);
            font-size: 1.8rem;
            margin: 0;
        }

        .code-block {
            background: #1a202c;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 12px;
            margin: 1.5rem 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            border: 1px solid #2d3748;
            position: relative;
        }

        .code-block::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient);
        }

        .config-block {
            background: #2d3748;
            color: #a0aec0;
            padding: 1.5rem;
            border-radius: 12px;
            margin: 1.5rem 0;
            font-family: 'Courier New', monospace;
            border-left: 4px solid var(--accent-color);
        }

        .what-this-does {
            background: linear-gradient(135deg, #e8f5e8 0%, #f0fdf4 100%);
            border: 1px solid #bbf7d0;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .what-this-does h4 {
            color: #166534;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }

        .what-this-does h4::before {
            content: 'üí°';
            margin-right: 0.5rem;
        }

        .what-this-does ul {
            list-style: none;
            padding-left: 0;
        }

        .what-this-does li {
            padding: 0.3rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .what-this-does li::before {
            content: '‚úì';
            color: #16a34a;
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .requirements-section {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 3rem;
            border-radius: 15px;
            margin: 3rem 0;
            border: 1px solid var(--accent-color);
        }

        .requirements-section h2 {
            color: #92400e;
            margin-bottom: 2rem;
            font-size: 2rem;
            text-align: center;
        }

        .requirement-item {
            background: white;
            margin: 1.5rem 0;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 4px solid var(--primary-color);
        }

        .requirement-item h3 {
            color: var(--secondary-color);
            margin-bottom: 1rem;
        }

        .important-note {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            border: 1px solid #f87171;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #dc2626;
        }

        .important-note h4 {
            color: #dc2626;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }

        .important-note h4::before {
            content: '‚ö†Ô∏è';
            margin-right: 0.5rem;
        }

        .kraft-highlight {
            background: linear-gradient(135deg, #e0f2fe 0%, #b3e5fc 100%);
            border: 1px solid #0277bd;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid var(--secondary-color);
        }

        .kraft-highlight h4 {
            color: var(--secondary-color);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }

        .kraft-highlight h4::before {
            content: 'üöÄ';
            margin-right: 0.5rem;
        }

        .terminal-section {
            background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
            border: 1px solid #a855f7;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .terminal-section h4 {
            color: #7c3aed;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }

        .terminal-section h4::before {
            content: 'üíª';
            margin-right: 0.5rem;
        }

        .footer {
            background: var(--gradient);
            color: white;
            text-align: center;
            padding: 3rem 0;
            margin-top: 4rem;
        }

        .social-links {
            margin-top: 2rem;
        }

        .social-links a {
            color: white;
            text-decoration: none;
            margin: 0 1rem;
            padding: 0.8rem 1.5rem;
            background: rgba(255,255,255,0.2);
            border-radius: 25px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .social-links a:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .prerequisites-section {
            background: linear-gradient(135deg, #fef7cd 0%, #fef3c7 100%);
            padding: 2rem;
            border-radius: 12px;
            margin: 2rem 0;
            border-left: 4px solid var(--accent-color);
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero .subtitle {
                font-size: 1.1rem;
            }
            
            .step {
                padding: 1.5rem;
            }
            
            .step-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .step-number {
                margin-right: 0;
                margin-bottom: 1rem;
            }
            
            .main-content {
                padding: 2rem 1rem;
            }
        }

        .scroll-indicator {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            transform-origin: left;
            transform: scaleX(0);
            transition: transform 0.3s ease;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="scroll-indicator"></div>
    
    <header class="hero">
        <div class="hero-content">
            <h1>Apache Kafka Installation Guide</h1>
            <p class="subtitle">Master Apache Kafka 4.0.0 Installation & KRaft Configuration with This Complete Step-by-Step Guide</p>
            <div class="author-badge">
                <strong>By: Steven Iefel D. Flogio</strong>
            </div>
        </div>
    </header>

    <div class="container">
        <main class="content">
            <section class="overview">
                <h2>üöÄ Overview</h2>
                <p>This comprehensive guide provides a step-by-step walkthrough for installing and configuring Apache Kafka 4.0.0 on a Linux system using the modern KRaft mode. Perfect for developers, data engineers, and anyone looking to set up a high-performance messaging system without the complexity of ZooKeeper.</p>
            </section>

            <div class="main-content">
                <div class="prerequisites-section">
                    <h3>üìã Prerequisites</h3>
                    <p>Before installing Kafka, ensure you have Java installed on your system. We will be using the latest version of Kafka, 4.0.0.</p>
                    
                    <p><strong>Verify Java version:</strong></p>
                    <div class="code-block">
java -version
                    </div>
                    
                    <p><strong>Expected output:</strong> You should see Java version 8 or higher. If Java is not installed, install OpenJDK:</p>
                    <div class="code-block">
sudo apt update && sudo apt install openjdk-21-jdk
                    </div>
                </div>

                <div class="step">
                    <div class="step-header">
                        <div class="step-number">1</div>
                        <h3>Create Dedicated Kafka User</h3>
                    </div>
                    
                    <p>For security best practices, run Kafka with its own dedicated system user rather than root:</p>
                    
                    <div class="code-block">
sudo useradd -r -m -U -d /opt/kafka -s /bin/false kafka
                    </div>

                    <div class="what-this-does">
                        <h4>About these commands:</h4>
                        <ul>
                            <li><strong>-r:</strong> Creates a system user (no login shell by default)</li>
                            <li><strong>-m:</strong> Creates home directory</li>
                            <li><strong>-U:</strong> Creates a group with the same name as the user</li>
                            <li><strong>-d /opt/kafka:</strong> Sets home directory to /opt/kafka</li>
                            <li><strong>-s /bin/false:</strong> Prevents interactive login for security</li>
                        </ul>
                    </div>
                </div>

                <div class="step">
                    <div class="step-header">
                        <div class="step-number">2</div>
                        <h3>Create Kafka Installation Directory</h3>
                    </div>
                    
                    <div class="code-block">
sudo mkdir -p /opt/kafka
                    </div>
                </div>

                <div class="step">
                    <div class="step-header">
                        <div class="step-number">3</div>
                        <h3>Set Directory Ownership</h3>
                    </div>
                    
                    <div class="code-block">
sudo chown -R kafka:kafka /opt/kafka
                    </div>

                    <div class="what-this-does">
                        <h4>What this does:</h4>
                        <ul>
                            <li>Assigns ownership of the Kafka directory to the kafka user</li>
                            <li>Ensures proper permissions for Kafka operations</li>
                            <li>Enhances security by limiting access</li>
                        </ul>
                    </div>
                </div>

                <div class="step">
                    <div class="step-header">
                        <div class="step-number">4</div>
                        <h3>Download Latest Kafka Version</h3>
                    </div>
                    
                    <p>Download Apache Kafka 4.0.0 (latest stable release):</p>
                    
                    <div class="code-block">
cd /tmp
wget https://downloads.apache.org/kafka/2.13-4.0.0/kafka_2.13-4.0.0.tgz
                    </div>

                    <div class="what-this-does">
                        <h4>What this does:</h4>
                        <ul>
                            <li>Changes to temporary directory for download</li>
                            <li>Downloads the latest Kafka binary distribution</li>
                            <li>Uses the Scala 2.13 compatible version</li>
                        </ul>
                    </div>
                </div>

                <div class="step">
                    <div class="step-header">
                        <div class="step-number">5</div>
                        <h3>Extract Kafka Archive</h3>
                    </div>
                    
                    <p>Extract the downloaded archive to the Kafka installation directory:</p>
                    
                    <div class="code-block">
sudo tar -xzf kafka_2.13-4.0.0.tgz -C /opt/kafka --strip-components=1
                    </div>

                    <div class="what-this-does">
                        <h4>What this does:</h4>
                        <ul>
                            <li>Extracts the archive directly to /opt/kafka</li>
                            <li>Removes the top-level directory structure (--strip-components=1)</li>
                            <li>Places all Kafka files in the proper location</li>
                        </ul>
                    </div>
                </div>

                <div class="step">
                    <div class="step-header">
                        <div class="step-number">6</div>
                        <h3>Set Proper Permissions</h3>
                    </div>
                    
                    <p>Ensure the kafka user has full access to all Kafka files:</p>
                    
                    <div class="code-block">
sudo chown -R kafka:kafka /opt/kafka
                    </div>
                </div>

                <div class="step">
                    <div class="step-header">
                        <div class="step-number">7</div>
                        <h3>Verify Installation</h3>
                    </div>
                    
                    <p>Confirm that all files were extracted correctly:</p>
                    
                    <div class="code-block">
sudo ls -la /opt/kafka
                    </div>

                    <div class="what-this-does">
                        <h4>Expected output:</h4>
                        <ul>
                            <li>You should see directories like bin/, config/, libs/, etc.</li>
                            <li>All files should be owned by the kafka user</li>
                        </ul>
                    </div>
                </div>

                <div class="kraft-highlight">
                    <h4>Kafka Configuration (KRaft Mode)</h4>
                    <p>Starting with Kafka 4.0.0, Kafka uses KRaft mode by default, eliminating the need for Apache ZooKeeper. KRaft (Kafka Raft) provides better performance, simpler operations, and improved scalability.</p>
                </div>

                <div class="step">
                    <div class="step-header">
                        <div class="step-number">8</div>
                        <h3>Generate Cluster ID</h3>
                    </div>
                    
                    <p>Every Kafka cluster requires a unique identifier:</p>
                    
                    <div class="code-block">
sudo /opt/kafka/bin/kafka-storage.sh random-uuid
                    </div>

                    <div class="important-note">
                        <h4>Important:</h4>
                        <p>Save the output - you'll need this UUID for the next step. Example output: <code>Juq6Vl4wTrOljoeAPlLw6Q</code></p>
                    </div>
                </div>

                <div class="step">
                    <div class="step-header">
                        <div class="step-number">9</div>
                        <h3>Initialize Kafka Storage</h3>
                    </div>
                    
                    <p>Format the storage using the cluster ID from the previous step:</p>
                    
                    <div class="code-block">
sudo /opt/kafka/bin/kafka-storage.sh format --standalone -t Juq6Vl4wTrOljoeAPlLw6Q -c /opt/kafka/config/server.properties
                    </div>

                    <div class="important-note">
                        <h4>Replace the UUID:</h4>
                        <p>Replace <code>Juq6Vl4wTrOljoeAPlLw6Q</code> with your actual cluster ID from step 8.</p>
                    </div>
                </div>

                <div class="step">
                    <div class="step-header">
                        <div class="step-number">10</div>
                        <h3>Create Systemd Service File</h3>
                    </div>
                    
                    <p>Create a systemd service file for automatic startup and management:</p>
                    
                    <div class="code-block">
sudo nano /etc/systemd/system/kafka.service
                    </div>

                    <p>Add the following content:</p>

                    <div class="config-block">
                    [Unit]<br>
                    Description=Apache Kafka Server<br>
                    Documentation=https://kafka.apache.org/<br>
                    Requires=network.target remote-fs.target<br>
                    After=network.target remote-fs.target<br>
                    <br>
                    [Service]<br>
                    Type=simple<br>
                    User=kafka<br>
                    ExecStart=/opt/kafka/bin/kafka-server-start.sh /opt/kafka/config/server.properties<br>
                    ExecStop=/opt/kafka/bin/kafka-server-stop.sh<br>
                    Restart=on-abnormal<br>
                    RestartSec=10<br>
                    <br>      
                    # Java Heap Options (adjust based on your system)<br>
                    Environment="KAFKA_HEAP_OPTS=-Xmx1G -Xms1G"<br>
                    <br>
                    # Output to journal<br>
                    StandardOutput=journal<br>
                    StandardError=journal<br>
                    SyslogIdentifier=kafka<br>
                    <br>
                    [Install]<br>
                    WantedBy=multi-user.target
                    </div>

                    <div class="what-this-does">
                        <h4>What this does:</h4>
                        <ul>
                            <li>Creates a systemd service for automatic startup</li>
                            <li>Configures proper start and stop commands</li>
                            <li>Sets memory allocation (1GB heap)</li>
                            <li>Enables automatic restart on failure</li>
                            <li>Routes logs to system journal</li>
                        </ul>
                    </div>
                </div>

                <div class="step">
                    <div class="step-header">
                        <div class="step-number">11</div>
                        <h3>Create Data Directory</h3>
                    </div>
                    
                    <div class="code-block">
sudo mkdir -p /opt/kafka/data
sudo chown -R kafka:kafka /opt/kafka/data
                    </div>

                    <div class="what-this-does">
                        <h4>What this does:</h4>
                        <ul>
                            <li>Creates dedicated directory for Kafka data storage</li>
                            <li>Sets proper ownership for the kafka user</li>
                        </ul>
                    </div>
                </div>

                <div class="step">
                    <div class="step-header">
                        <div class="step-number">12</div>
                        <h3>Start and Enable Kafka Service</h3>
                    </div>
                    
                    <p>Reload systemd configuration and start Kafka:</p>
                    
                    <div class="code-block">
                    # Reload systemd daemon<br>
                    sudo systemctl daemon-reload<br>
                    <br>
                    # Enable Kafka to start on boot<br>
                    sudo systemctl enable kafka<br>
                    <br>
                    # Start Kafka service<br>
                    sudo systemctl start kafka<br>
                    <br>
                    # Check service status<br>
                    sudo systemctl status kafka<br>
                    </div>

                    <div class="what-this-does">
                        <h4>Expected output:</h4>
                        <ul>
                            <li>Service should show as "active (running)"</li>
                            <li>No error messages in the status output</li>
                            <li>Kafka should be listening on port 9092</li>
                        </ul>
                    </div>
                </div>

                <section class="requirements-section">
                    <h2>üß™ Testing Kafka Installation</h2>

                    <div class="requirement-item">
                        <h3>Create a Test Topic</h3>
                        <p>Create a topic for testing message production and consumption:</p>
                        
                        <div class="code-block">
sudo /opt/kafka/bin/kafka-topics.sh --create --topic viva-mapua --bootstrap-server localhost:9092 --partitions 3 --replication-factor 1
                        </div>

                        <div class="what-this-does">
                            <h4>What this does:</h4>
                            <ul>
                                <li>Creates a topic named "viva-mapua"</li>
                                <li>Sets up 3 partitions for parallel processing</li>
                                <li>Uses replication factor of 1 (single node setup)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="terminal-section">
                        <h4>Terminal Testing Setup</h4>
                        <p>You'll need two terminal windows for this test:</p>
                    </div>

                    <div class="requirement-item">
                        <h3>Start Producer (Terminal 1)</h3>
                        
                        <div class="code-block">
                        sudo /opt/kafka/bin/kafka-console-producer.sh --topic viva-mapua --bootstrap-server localhost:9092
                        </div>

                        <div class="what-this-does">
                            <h4>What this does:</h4>
                            <ul>
                                <li>Opens an interactive producer console</li>
                                <li>Any text you type will be sent as messages</li>
                                <li>Press Enter to send each message</li>
                            </ul>
                        </div>
                    </div>

                    <div class="requirement-item">
                        <h3>Start Consumer (Terminal 2)</h3>
                        
                        <div class="code-block">
sudo /opt/kafka/bin/kafka-console-consumer.sh --topic viva-mapua --from-beginning --bootstrap-server localhost:9092
                        </div>

                        <div class="what-this-does">
                            <h4>What this does:</h4>
                            <ul>
                                <li>Opens a consumer that reads all messages</li>
                                <li>Shows messages from the beginning of the topic</li>
                                <li>Displays messages in real-time as they arrive</li>
                            </ul>
                        </div>

                        <div class="terminal-section">
                            <h4>Testing Instructions:</h4>
                            <ol style="padding-left: 2rem; color: #7c3aed;">
                                <li>Type messages in Terminal 1 (Producer)</li>
                                <li>Watch them appear in Terminal 2 (Consumer)</li>
                                <li>Press Ctrl+C to exit either terminal</li>
                            </ol>
                        </div>
                    </div>
                </section>

                <div class="kraft-highlight">
                    <h4>Success! üéâ</h4>
                    <p>If messages appear in the consumer terminal when you type them in the producer terminal, your Kafka installation is working perfectly! You now have a fully functional Apache Kafka 4.0.0 setup with KRaft mode.</p>
                </div>
            </div>
        </main>
    </div>

    <footer class="footer">
        <div class="container">
            <h3>üéâ Congratulations!</h3>
            <p>You've successfully installed and configured Apache Kafka with KRaft mode. Start building real-time data pipelines like a pro!</p>
            <div class="social-links">
                <a href="https://www.facebook.com/floji511/" target="_blank">Contact Me</a>
                <a href="https://www.linkedin.com/in/steven-iefel-flogio-784037205/" target="_blank">Follow Author</a>
                <a href="https://www.facebook.com/floji511/" target="_blank">View More Tutorials</a>
            </div>
            <p style="margin-top: 2rem; opacity: 0.8;">
                Created by <strong>Steven Iefel D. Flogio</strong> | 
                Apache Kafka Installation Guide ¬© 2025
            </p